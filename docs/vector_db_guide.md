# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î](#—Å–æ–∑–¥–∞–Ω–∏–µ-–≤–µ–∫—Ç–æ—Ä–Ω–æ–π-–±–¥)
3. [–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤](#–∑–∞–≥—Ä—É–∑–∫–∞-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
4. [–ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏](#–ø–æ–∏—Å–∫-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏)
5. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏)
6. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
7. [–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞](#–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞-–∏-–æ—Ç–ª–∞–¥–∫–∞)

## –í–≤–µ–¥–µ–Ω–∏–µ

–í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (ChromaDB) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø–æ–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –≤ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (—ç–º–±–µ–¥–¥–∏–Ω–≥–∏) –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ —Å–º—ã—Å–ª—É –∑–∞–ø—Ä–æ—Å–∞.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫** - –ø–æ–∏—Å–∫ –ø–æ —Å–º—ã—Å–ª—É, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ** –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã (chunks)
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
- **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤

## –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î

### –ë–∞–∑–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

```python
from VectorDB.base_chroma_db import BaseChromaDB

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏
db = BaseChromaDB(
    collection_name="cybersec_knowledge",    # –ò–º—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏
    model_name="intfloat/multilingual-e5-base",  # –ú–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
    persist_directory="./chroma_db"          # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
)

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
info = db.get_collection_info()
print(f"–ö–æ–ª–ª–µ–∫—Ü–∏—è: {info['collection_name']}")
print(f"–î–æ–∫—É–º–µ–Ω—Ç–æ–≤: {info['total_documents']}")
print(f"–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤: {info['embedding_dimension']}")
```

### –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

```python
# –î–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
db_ru = BaseChromaDB("knowledge_ru", "intfloat/multilingual-e5-base")

# –î–ª—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ (–±—ã—Å—Ç—Ä–∞—è –∏ –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è)
db_en = BaseChromaDB("knowledge_en", "all-MiniLM-L6-v2")

# –î–ª—è –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ (–º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ —Ç–æ—á–Ω–µ–µ)
db_quality = BaseChromaDB("knowledge_hq", "sentence-transformers/all-mpnet-base-v2")
```

## –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –ü—Ä–æ—Å—Ç–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤

```python
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
documents = [
    "–§–∏—à–∏–Ω–≥ - —ç—Ç–æ –≤–∏–¥ –∫–∏–±–µ—Ä–∞—Ç–∞–∫, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –Ω–∞ –∫—Ä–∞–∂—É –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö",
    "–í—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–µ –ü–û –º–æ–∂–µ—Ç –ø—Ä–æ–Ω–∏–∫–∞—Ç—å —á–µ—Ä–µ–∑ email –≤–ª–æ–∂–µ–Ω–∏—è",
    "–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–≤—ã—à–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"
]

metadata = [
    {"topic": "—Ñ–∏—à–∏–Ω–≥", "type": "–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ"},
    {"topic": "malware", "type": "–≤–µ–∫—Ç–æ—Ä –∞—Ç–∞–∫–∏"},
    {"topic": "2FA", "type": "–∑–∞—â–∏—Ç–∞"}
]

db.add_documents(documents, metadata)
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ —Ñ–∞–π–ª–æ–≤

```python
from VectorDB.document_ingestion import DocumentIngestion

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∑–∞–≥—Ä—É–∑–∫–∏
ingestion = DocumentIngestion(
    vector_db=db,
    chunk_size=1000,    # –†–∞–∑–º–µ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –≤ —Å–∏–º–≤–æ–ª–∞—Ö
    overlap=200         # –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –º–µ–∂–¥—É —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º–∏
)

# –ó–∞–≥—Ä—É–∑–∫–∞ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
result = ingestion.ingest_single_file("documents/security_guide.txt")
print(f"–ó–∞–≥—Ä—É–∂–µ–Ω–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤: {result['total_chunks']}")

# –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
result = ingestion.ingest_directory(
    "documents/",
    recursive=True  # –í–∫–ª—é—á–∞—è –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
)
print(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Ñ–∞–π–ª–æ–≤: {result['processed_files']}")
print(f"–í—Å–µ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤: {result['total_chunks']}")
```

### –ü–∞–∫–µ—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SimpleVectorizer

```python
from tests.test_vectorize_documents import SimpleVectorizer

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ç–æ—Ä–∞
vectorizer = SimpleVectorizer("cybersec_docs")

# –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
files = [
    "docs/firewall_guide.txt",
    "docs/malware_analysis.txt",
    "docs/incident_response.txt"
]

# –í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –¥–∞–Ω–Ω—ã–º
metrics = vectorizer.vectorize_files(files)

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
metrics = vectorizer.clean_and_add(files)

# –û—Ç—á–µ—Ç –æ –∑–∞–≥—Ä—É–∑–∫–µ
vectorizer.print_report(metrics)
```

## –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫

```python
# –ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
results = db.search(
    query="–ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å—Å—è –æ—Ç —Ñ–∏—à–∏–Ω–≥–∞?",
    top_k=5  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
for i, result in enumerate(results, 1):
    print(f"\n{i}. –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: {1 - result['distance']:.2f}")
    print(f"–¢–µ–∫—Å—Ç: {result['document'][:200]}...")
    print(f"–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: {result['metadata']}")
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–æ–∏—Å–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

```python
# –ü–æ–∏—Å–∫ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
cybersec_results = []
all_results = db.search("—É—è–∑–≤–∏–º–æ—Å—Ç–∏ –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö", top_k=10)

for result in all_results:
    metadata = result['metadata']
    # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –¥–æ–∫—É–º–µ–Ω—Ç–∞
    if metadata.get('doc_type') == 'vulnerability':
        cybersec_results.append(result)

print(f"–ù–∞–π–¥–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ —É—è–∑–≤–∏–º–æ—Å—Ç—è–º: {len(cybersec_results)}")
```

### –ü–æ–∏—Å–∫ —Å –≤—ã—Å–æ–∫–∏–º –ø–æ—Ä–æ–≥–æ–º —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

```python
def relevant_search(query: str, min_relevance: float = 0.7):
    """–ü–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –≤—ã—Å–æ–∫–æ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"""
    results = db.search(query, top_k=10)
    
    filtered_results = []
    for result in results:
        relevance = 1 - result['distance']
        if relevance >= min_relevance:
            result['relevance'] = relevance
            filtered_results.append(result)
    
    return sorted(filtered_results, key=lambda x: x['relevance'], reverse=True)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
high_quality_results = relevant_search(
    "–º–µ—Ç–æ–¥—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –ü–û",
    min_relevance=0.75
)
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π

```python
# –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
collections = db.list_collections()
for collection in collections:
    print(f"–ö–æ–ª–ª–µ–∫—Ü–∏—è: {collection['name']}")
    print(f"  –î–æ–∫—É–º–µ–Ω—Ç–æ–≤: {collection['total_documents']}")
    print(f"  ID: {collection['id']}")

# –°–ø–æ—Å–æ–± 2: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ (–±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞)
collections = BaseChromaDB.list_all_collections("./chroma_db")

# –°–ø–æ—Å–æ–± 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
# python list_collections.py
```

### –£–¥–∞–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –∏—Ö ID
all_data = db.collection.get()
document_ids = all_data['ids']

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ ID
ids_to_delete = document_ids[:5]  # –ü–µ—Ä–≤—ã–µ 5 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
db.delete_documents(ids_to_delete)

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
db.client.delete_collection(db.collection_name)
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

```python
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
def update_collection(old_name: str, new_documents: list):
    # –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    old_db = BaseChromaDB(old_name)
    old_data = old_db.collection.get()
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏
    new_db = BaseChromaDB(f"{old_name}_updated")
    
    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    if old_data['documents']:
        new_db.add_documents(old_data['documents'], old_data['metadatas'])
    
    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    new_db.add_documents(new_documents)
    
    return new_db
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ø–æ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```python
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏
security_db = BaseChromaDB("security_knowledge")

# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
security_docs = [
    "SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞",
    "Cross-Site Scripting (XSS) –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–Ω–µ–¥—Ä–∏—Ç—å –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π JavaScript",
    "–ë—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫–∏ –º–æ–∂–Ω–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞",
    "HTTPS —à–∏—Ñ—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º"
]

security_metadata = [
    {"vulnerability_type": "SQL Injection", "severity": "high"},
    {"vulnerability_type": "XSS", "severity": "medium"},
    {"attack_type": "Brute Force", "prevention": "rate_limiting"},
    {"security_measure": "encryption", "protocol": "HTTPS"}
]

security_db.add_documents(security_docs, security_metadata)

# –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
xss_info = security_db.search("–∑–∞—â–∏—Ç–∞ –æ—Ç XSS –∞—Ç–∞–∫", top_k=3)
```

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
import time

def benchmark_search(db: BaseChromaDB, queries: list, iterations: int = 100):
    """–ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞"""
    total_time = 0
    
    for query in queries:
        start_time = time.time()
        for _ in range(iterations):
            db.search(query, top_k=5)
        end_time = time.time()
        
        query_time = (end_time - start_time) / iterations
        total_time += query_time
        print(f"–ó–∞–ø—Ä–æ—Å '{query}': {query_time:.4f} —Å–µ–∫/–ø–æ–∏—Å–∫")
    
    avg_time = total_time / len(queries)
    print(f"\nüìä –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞: {avg_time:.4f} —Å–µ–∫")
    print(f"üìä –ü–æ–∏—Å–∫–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É: {1/avg_time:.1f}")

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
test_queries = [
    "–∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
    "–∑–∞—â–∏—Ç–∞ –æ—Ç –≤–∏—Ä—É—Å–æ–≤",
    "—Å–µ—Ç–µ–≤—ã–µ –∞—Ç–∞–∫–∏"
]
benchmark_search(security_db, test_queries)
```

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–ª–ª–µ–∫—Ü–∏–π
python list_collections.py

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
python tests/test_vectorize_documents.py

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞
python tests/test_vectordb.py
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–†–∞–∑–º–µ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 800-1200 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
2. **–ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ**: 150-250 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
3. **–ú–æ–¥–µ–ª—å**: `intfloat/multilingual-e5-base` –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
4. **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞, –∏—Å—Ç–æ—á–Ω–∏–∫, –¥–∞—Ç—É
5. **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å**: –§–∏–ª—å—Ç—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å—é > 0.7
6. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `clean_and_add` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–π

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ–ª–ª–µ–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π
collections = BaseChromaDB.list_all_collections()
print([c['name'] for c in collections])
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞
```python
# –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
results = db.search(query, top_k=20)
# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
good_results = [r for r in results if (1 - r['distance']) > 0.75]
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π –º–æ–¥–µ–ª–∏
fast_db = BaseChromaDB("collection", "all-MiniLM-L6-v2")—è—Ç
```